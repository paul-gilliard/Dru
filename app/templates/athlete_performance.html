{% extends 'base.html' %}
{% block title %}Entraînement — {{ athlete.username }}{% endblock %}
{% block content %}
<h2>Entraînement — {{ athlete.username }}</h2>

<nav style="margin-bottom:12px; display:flex; gap:12px;">
  <a href="{{ url_for('athlete_program') }}" class="kv">Programme</a>
  <a href="{{ url_for('athlete_journal') }}" class="kv">Journal</a>
  <a href="{{ url_for('athlete_performance') }}" class="kv" style="font-weight:700">Entraînement</a>
</nav>

<div class="card">
  <h3>Sélections de séances</h3>

  {% if programs %}
    {% for p in programs %}
    <div class="program-block" style="margin-bottom:14px;">
      <h4 style="margin-bottom:8px;">{{ p.name }}</h4>

      <div class="session-grid">
        {% for s in p.sessions %}
        <a class="session-card" href="{{ url_for('athlete_performance_session', session_id=s.id) }}">
          <div class="session-card-top">
            <span class="session-day">{{ ['Lun','Mar','Mer','Jeu','Ven','Sam','Dim'][s.day_of_week] }}</span>
            {% if s.session_name %}
            <span class="session-badge">{{ s.session_name }}</span>
            {% endif %}
          </div>
          <div class="session-card-body">
            <div class="session-name">{{ s.session_name or 'Séance' }}</div>
            <div class="session-meta">{{ s.exercises|length }} exercice{{ 's' if s.exercises|length > 1 else '' }}</div>
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  {% else %}
    <p class="text-muted">Aucune séance programmée.</p>
  {% endif %}
</div>
{% endblock %}